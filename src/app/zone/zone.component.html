<table mat-table [dataSource]="zone.steps">
  <ng-container matColumnDef="step-text">
    <th mat-header-cell *matHeaderCellDef>
      {{zone.name}}
      <span *ngIf="zone.completed" class="zone-completed-badge">Zone completed</span>
    </th>
    <td mat-cell *matCellDef="let step" class="step-cell">
      <h2>{{step.text}}
        <mat-list *ngIf="step.hints.length > 0 && step.showHints > 0 && !step.completed">
          <ng-container *ngFor="let hint of step.hints;let i = index">
            <mat-list-item *ngIf="!step.completed && (spoilers || i < step.showHints)">
              {{ hint }}
            </mat-list-item>
          </ng-container>
        </mat-list>
        <mat-icon
          [matBadge]="step.hints.length - step.showHints"
          *ngIf="!spoilers && step.hints.length > 0 && step.showHints < step.hints.length && !step.completed"
          class="hints-icon"
          fontIcon="help"
          click-stop-propagation
          (click)="showHint(step)"
        ></mat-icon>
      </h2>
    </td>
  </ng-container>
  <tr
    mat-header-row
    *matHeaderRowDef="['step-text']"
    (click)="toggleStepsVisibility($event)"
  ></tr>
  <tr
    mat-row
    *matRowDef="let step; columns: ['step-text']"
    class="step-row"
    [ngClass]="{'step-completed': step.completed, 'hide': !showSteps}"
    (click)="toggleStepCompleted(step)"
  ></tr>
</table>
